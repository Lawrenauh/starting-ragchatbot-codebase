# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Retrieval-Augmented Generation (RAG) system that enables users to query course materials and receive intelligent, context-aware responses. It uses ChromaDB for vector storage, Google's Gemini for AI generation, and provides a web interface for interaction.

Key components:
- Backend API built with FastAPI
- Frontend with HTML/CSS/JavaScript
- Semantic search using ChromaDB vector store
- Google Gemini integration for AI responses
- Document processing and chunking system

## Common Development Commands

### Installation
```bash
uv sync
```

### Running the Application
Quick start:
```bash
chmod +x run.sh
./run.sh
```

Manual start:
```bash
cd backend
uv run uvicorn app:app --reload --port 8000
```

The application will be available at:
- Web Interface: `http://localhost:8000`
- API Documentation: `http://localhost:8000/docs`

### Environment Setup
Create a `.env` file in the root directory:
```bash
GOOGLE_API_KEY=your_google_api_key_here
```

## Codebase Architecture

### Backend Structure
```
backend/
├── app.py              # Main FastAPI application
├── config.py           # Configuration settings
├── rag_system.py       # Main RAG orchestration
├── document_processor.py # Course document parsing and chunking
├── vector_store.py     # ChromaDB integration
├── ai_generator.py     # Google Gemini API integration
├── search_tools.py     # Search tool definitions
├── session_manager.py  # Conversation session management
└── models.py           # Data models (Pydantic)
```

### Key Components

1. **RAG System** (`rag_system.py`) - Main orchestrator that coordinates document processing, vector storage, and AI generation
2. **Vector Store** (`vector_store.py`) - ChromaDB integration with semantic search capabilities
3. **Document Processor** (`document_processor.py`) - Parses course documents and creates semantic chunks
4. **AI Generator** (`ai_generator.py`) - Handles Google Gemini API interactions with tool calling
5. **Search Tools** (`search_tools.py`) - Defines search functionality available to the AI
6. **Session Manager** (`session_manager.py`) - Manages conversation history

### Frontend Structure
```
frontend/
├── index.html          # Main HTML page
├── script.js           # Client-side JavaScript
└── style.css           # Styling
```

### Data Flow
1. Course documents are parsed by DocumentProcessor into structured Course/Lesson objects
2. Content is chunked and stored in ChromaDB via VectorStore
3. User queries are processed by RAGSystem which uses search tools to find relevant content
4. AI responses are generated by AIGenerator using Google's Gemini API
5. Conversation history is managed by SessionManager

### Key Features
- Semantic search across course materials
- Conversation context preservation
- Tool-based search integration with Claude
- Responsive web interface
- Course and lesson-level filtering